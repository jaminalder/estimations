{{ define "room" }}
{{ template "base" . }}
{{ end }}

{{ define "title" }}Room Â· Estimations{{ end }}

{{ define "content" }}
  <!-- Story Section (placeholder title for now) -->
  <div class="box story-card mt-4">
    <div class="content">
      <div class="field">
        <input class="input is-large has-text-centered" type="text" placeholder="Session Title">
      </div>
    </div>
  </div>

  <!-- Voting Results Area -->
  <div class="voting-area has-background-dynamic">
    <div class="has-text-centered mb-4" id="status">
      <h3 class="title is-5">
        <span class="icon"><i class="fas fa-vote-yea"></i></span>
        Voting in Progress...
      </h3>
      <p class="subtitle is-6">{{.Voted}} of {{.Total}} players have voted</p>
    </div>

    <div class="columns is-centered" id="participants">
      {{ range .Participants }}
      <div class="column is-narrow has-text-centered">
        <div class="mb-3">
          <span class="icon is-large">
            <i class="fas fa-user fa-2x"></i>
          </span>
          <p class="title is-6 mt-2">{{ .Name }}</p>
        </div>
        <div class="poker-card {{ if .HasVoted }}has-background-primary has-text-white{{ else }}has-background-grey-lighter has-text-grey{{ end }}">
          {{ if .HasVoted }}?{{ else }}<i class="fas fa-clock"></i>{{ end }}
        </div>
      </div>
      {{ end }}
    </div>

    <div class="has-text-centered mt-4" id="actions">
      <button class="button is-success is-large" id="voteButton" disabled>
        <span class="icon"><i class="fas fa-eye"></i></span>
        <span>Reveal Cards</span>
      </button>
      <button class="button is-light is-large ml-2">
        <span class="icon"><i class="fas fa-redo"></i></span>
        <span>Reset Votes</span>
      </button>
    </div>
  </div>

  <!-- Card Deck Section -->
  <div class="box" id="deck">
    <h3 class="title is-5 has-text-centered">
      <span class="icon"><i class="fas fa-layer-group"></i></span>
      Select Your Estimate
    </h3>

    <div class="card-deck">
      {{ range .Deck }}
      <div class="poker-card has-background-white has-text-dark has-border">{{ . }}</div>
      {{ end }}
    </div>
  </div>

{{ end }}
